<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beauty Shop Builder</title>
    
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <link href="https://fonts.googleapis.com/css2?family=Ibarra+Real+Nova:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* =========================================
           1. ë¹Œë” ë ˆì´ì•„ì›ƒ (ì¢Œ: í”„ë¦¬ë·°, ìš°: ì—ë””í„°)
           ========================================= */
        * { box-sizing: border-box; }
        body { margin: 0; padding: 0; font-family: 'Pretendard', sans-serif; display: flex; height: 100vh; overflow: hidden; background: #222; }

        /* ì™¼ìª½: ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ */
        .preview-area {
            flex: 7; /* 70% ë„ˆë¹„ */
            background-color: #e0e0e0;
            display: flex; justify-content: center; align-items: center;
            padding: 40px; position: relative;
        }
        
        /* ì‹¤ì œ ì›¹ì‚¬ì´íŠ¸ê°€ ë³´ì—¬ì§€ëŠ” í”„ë ˆì„ */
        .website-frame {
            width: 100%; height: 100%;
            background: white;
            box-shadow: 0 0 50px rgba(0,0,0,0.3);
            border-radius: 4px; overflow-y: auto; overflow-x: hidden;
            position: relative; scroll-behavior: smooth;
        }

        /* ì˜¤ë¥¸ìª½: ì—ë””í„° íŒ¨ë„ */
        .editor-area {
            flex: 3; /* 30% ë„ˆë¹„ */
            background-color: #2c2c2c;
            color: #fff;
            display: flex; flex-direction: column;
            border-left: 1px solid #444;
            min-width: 350px;
        }

        .editor-header {
            padding: 20px; background: #1f1f1f; border-bottom: 1px solid #444;
            font-weight: bold; font-size: 18px; display: flex; justify-content: space-between; align-items: center;
        }
        .editor-content {
            flex: 1; overflow-y: auto; padding: 20px;
        }
        .save-bar {
            padding: 20px; background: #1f1f1f; border-top: 1px solid #444;
        }

        /* ì—ë””í„° ìŠ¤íƒ€ì¼ */
        .edit-group { margin-bottom: 25px; background: #383838; padding: 15px; border-radius: 8px; }
        .group-title { color: #c5a065; font-size: 14px; font-weight: bold; margin-bottom: 10px; border-bottom: 1px solid #555; padding-bottom: 5px; }
        
        .input-label { display: block; font-size: 12px; color: #aaa; margin-bottom: 5px; margin-top: 10px; }
        input[type="text"], textarea {
            width: 100%; background: #444; border: 1px solid #555; color: white;
            padding: 10px; border-radius: 4px; font-family: 'Pretendard'; font-size: 13px;
        }
        textarea { resize: vertical; min-height: 60px; line-height: 1.4; }
        input:focus, textarea:focus { outline: none; border-color: #c5a065; background: #505050; }

        .btn-save {
            width: 100%; padding: 15px; background: #c5a065; color: #fff;
            border: none; border-radius: 6px; font-size: 16px; font-weight: bold; cursor: pointer;
            transition: 0.2s;
        }
        .btn-save:hover { background: #b08d55; }

        /* í† ìŠ¤íŠ¸ ë©”ì‹œì§€ */
        .toast {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.8); color: white; padding: 12px 30px; border-radius: 30px;
            font-size: 14px; opacity: 0; transition: 0.5s; pointer-events: none; z-index: 2000;
        }
        .toast.show { opacity: 1; bottom: 50px; }


        /* =========================================
           2. ë·°í‹°ìƒµ ì›¹ì‚¬ì´íŠ¸ ìŠ¤íƒ€ì¼ (Internal Style)
           (ì´ì „ ì½”ë“œì˜ CSSë¥¼ .website-frame ë‚´ë¶€ë¡œ ìŠ¤ì½”í•‘)
           ========================================= */
        .website-frame {
            --primary: #c5a065; 
            --primary-dark: #a68b5e;
            --bg-cream: #fcfbf9;
            --text-main: #222222;
            --text-sub: #555555;
            --font-serif: 'Ibarra Real Nova', serif;
            --font-sans: 'Pretendard', sans-serif;
        }

        /* ì›¹ì‚¬ì´íŠ¸ ë‚´ë¶€ ìš”ì†Œë“¤ */
        .w-header { position: sticky; top: 0; background: rgba(255,255,255,0.95); padding: 15px 20px; border-bottom: 1px solid #eee; z-index: 100; display: flex; justify-content: space-between; align-items: center; }
        .w-logo { font-family: var(--font-serif); font-size: 22px; font-weight: 600; color: var(--text-main); }
        .w-hero {
            height: 500px; background-size: cover; background-position: center; position: relative;
            display: flex; align-items: center; justify-content: center; text-align: center; color: white;
        }
        .w-hero::after { content:''; position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.3); }
        .w-hero-content { position: relative; z-index: 1; padding: 20px; }
        .w-hero h1 { font-family: var(--font-serif); font-size: 42px; margin: 10px 0 20px; font-weight: 400; }
        
        .w-section { padding: 80px 40px; background: var(--bg-cream); }
        .w-title { font-family: var(--font-serif); font-size: 32px; text-align: center; margin-bottom: 10px; color: var(--text-main); }
        .w-desc { text-align: center; color: var(--text-sub); margin-bottom: 50px; font-size: 15px; }

        .w-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; }
        .w-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .w-card img { width: 100%; height: 200px; object-fit: cover; }
        .w-card-body { padding: 20px; text-align: center; }
        .w-price { color: var(--primary); font-weight: bold; margin-top: 10px; display: block; }

        .w-footer { background: #333; color: white; padding: 40px; text-align: center; font-size: 13px; }
        
        /* ì•„ì½”ë””ì–¸ */
        .w-faq-item { border-bottom: 1px solid #ddd; padding: 20px 0; }
        .w-faq-q { font-weight: bold; cursor: pointer; display: flex; justify-content: space-between; }
        .w-faq-a { font-size: 14px; color: var(--text-sub); margin-top: 10px; display: none; }
        .w-faq-item.active .w-faq-a { display: block; }

    </style>
</head>
<body>

    <div class="preview-area">
        <div class="website-frame" id="website-root">
            </div>
        <div class="toast" id="toast-msg">âœ… ì‚¬ì´íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
    </div>

    <div class="editor-area">
        <div class="editor-header">
            <span>WEB BUILDER</span>
            <span style="font-size:12px; opacity:0.7;">v2.0 Pro</span>
        </div>

        <div class="editor-content">
            <div class="edit-group">
                <div class="group-title">ğŸ  ê¸°ë³¸ ì •ë³´ & í—¤ë”</div>
                <div class="input-label">ë¸Œëœë“œëª… (ë¡œê³ )</div>
                <input type="text" id="e-logo">
                <div class="input-label">ë©”ì¸ ì¹´í”¼ (Hero Title)</div>
                <textarea id="e-hero-title"></textarea>
                <div class="input-label">ì„œë¸Œ ì¹´í”¼</div>
                <input type="text" id="e-hero-sub">
                <div class="input-label">ë°°ê²½ ì´ë¯¸ì§€ URL</div>
                <input type="text" id="e-hero-img">
            </div>

            <div class="edit-group">
                <div class="group-title">ğŸ’†â€â™€ï¸ í”„ë¡œê·¸ë¨ 1 ì„¤ì •</div>
                <div class="input-label">í”„ë¡œê·¸ë¨ ì´ë¦„</div>
                <input type="text" id="e-prog1-name">
                <div class="input-label">ì„¤ëª…</div>
                <textarea id="e-prog1-desc"></textarea>
                <div class="input-label">ê°€ê²©</div>
                <input type="text" id="e-prog1-price">
            </div>

            <div class="edit-group">
                <div class="group-title">ğŸ’†â€â™€ï¸ í”„ë¡œê·¸ë¨ 2 ì„¤ì •</div>
                <div class="input-label">í”„ë¡œê·¸ë¨ ì´ë¦„</div>
                <input type="text" id="e-prog2-name">
                <div class="input-label">ì„¤ëª…</div>
                <textarea id="e-prog2-desc"></textarea>
                <div class="input-label">ê°€ê²©</div>
                <input type="text" id="e-prog2-price">
            </div>

            <div class="edit-group">
                <div class="group-title">ğŸ“ ë§¤ì¥ ì •ë³´ (Footer)</div>
                <div class="input-label">ì£¼ì†Œ</div>
                <input type="text" id="e-address">
                <div class="input-label">ì „í™”ë²ˆí˜¸</div>
                <input type="text" id="e-phone">
            </div>
        </div>

        <div class="save-bar">
            <button class="btn-save" onclick="applyChanges()">ì‚¬ì´íŠ¸ ë°˜ì˜í•˜ê¸° (Save)</button>
        </div>
    </div>

    <script>
        // ===========================================
        // 1. ì´ˆê¸° ë°ì´í„° (DB ì—­í• )
        // ===========================================
        let siteData = {
            logo: "LumiÃ¨re Skin",
            heroTitle: "ë‹¹ì‹ ì˜ í”¼ë¶€ê°€ ê¸°ì–µí•˜ëŠ”<br>ê°€ì¥ ë¹›ë‚˜ëŠ” ìˆœê°„",
            heroSub: "PREMIUM AESTHETIC & SPA",
            heroImg: "https://images.unsplash.com/photo-1616394584738-fc6e612e71b9?q=80&w=2070&auto=format&fit=crop",
            
            programs: [
                {
                    name: "í•˜ì´ë“œë¼ ë¬¼ê´‘ ì¼€ì–´",
                    desc: "ì†ê±´ì¡°ë¥¼ í•´ê²°í•˜ê³  ì¦‰ê°ì ì¸ ìˆ˜ë¶„ì„ ê³µê¸‰í•˜ì—¬ íˆ¬ëª…í•˜ê²Œ ë¹›ë‚˜ëŠ” í”¼ë¶€ë¥¼ ì™„ì„±í•©ë‹ˆë‹¤.",
                    price: "1íšŒ 80,000ì›",
                    img: "https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?q=80&w=800&auto=format&fit=crop"
                },
                {
                    name: "Vë¼ì¸ ìœ¤ê³½ ë¦¬í”„íŒ…",
                    desc: "ì²˜ì§„ í„±ì„ ê³¼ ì´ì¤‘í„±ì„ ì •ë¦¬í•˜ê³  íƒ„ë ¥ ìˆëŠ” í˜ì´ìŠ¤ ë¼ì¸ì„ ë””ìì¸í•©ë‹ˆë‹¤.",
                    price: "1íšŒ 120,000ì›",
                    img: "https://images.unsplash.com/photo-1515377905703-c4788e51af15?q=80&w=800&auto=format&fit=crop"
                }
            ],
            
            contact: {
                address: "ì„œìš¸ ê°•ë‚¨êµ¬ ë„ì‚°ëŒ€ë¡œ 123, ë¥´ë¯¸ì—ë¥´ ë¹Œë”© 3F",
                phone: "02-1234-5678"
            }
        };

        // ===========================================
        // 2. ì—”ì§„: ë°ì´í„° -> HTML ë Œë”ë§ (View)
        // ===========================================
        function renderWebsite() {
            const root = document.getElementById('website-root');
            
            // í…œí”Œë¦¿ ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•´ HTML ìƒì„±
            const html = `
                <div class="w-header">
                    <div class="w-logo">${siteData.logo}</div>
                    <div style="font-size:14px; font-weight:bold; color:#c5a065;">ì˜ˆì•½í•˜ê¸°</div>
                </div>

                <div class="w-hero" style="background-image: url('${siteData.heroImg}')">
                    <div class="w-hero-content">
                        <div style="font-size:14px; letter-spacing:2px; margin-bottom:10px; opacity:0.9;">${siteData.heroSub}</div>
                        <h1>${siteData.heroTitle}</h1>
                        <div style="display:inline-block; border:1px solid white; padding:10px 30px; margin-top:20px; font-size:14px;">View Program</div>
                    </div>
                </div>

                <div class="w-section">
                    <h2 class="w-title">Signature Program</h2>
                    <p class="w-desc">ê³ ê°ë‹˜ì„ ìœ„í•œ 1:1 ë§ì¶¤í˜• ì†”ë£¨ì…˜ì„ ì œì•ˆí•©ë‹ˆë‹¤.</p>
                    
                    <div class="w-grid">
                        ${siteData.programs.map(prog => `
                            <div class="w-card">
                                <img src="${prog.img}">
                                <div class="w-card-body">
                                    <h3 style="margin:0 0 10px 0; font-size:18px;">${prog.name}</h3>
                                    <p style="font-size:14px; color:#666; margin-bottom:15px; height:40px; overflow:hidden;">${prog.desc}</p>
                                    <span class="w-price">${prog.price}</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div class="w-section" style="background:white;">
                    <h2 class="w-title">FAQ</h2>
                    <div style="max-width:800px; margin:0 auto;">
                        <div class="w-faq-item">
                            <div class="w-faq-q" onclick="toggleFaq(this)">ì˜ˆì•½ì€ í•„ìˆ˜ì¸ê°€ìš”? <span>â–¼</span></div>
                            <div class="w-faq-a">ë„¤, ì €í¬ ìƒµì€ 100% ì˜ˆì•½ì œë¡œ ìš´ì˜ë˜ê³  ìˆìŠµë‹ˆë‹¤.</div>
                        </div>
                        <div class="w-faq-item">
                            <div class="w-faq-q" onclick="toggleFaq(this)">ì£¼ì°¨ ê°€ëŠ¥í•œê°€ìš”? <span>â–¼</span></div>
                            <div class="w-faq-a">ê±´ë¬¼ ë‚´ ë¬´ë£Œ ì£¼ì°¨ ê°€ëŠ¥í•©ë‹ˆë‹¤.</div>
                        </div>
                    </div>
                </div>

                <div class="w-footer">
                    <div style="font-size:20px; font-family:'Ibarra Real Nova'; margin-bottom:20px;">${siteData.logo}</div>
                    <p><i class="fas fa-map-marker-alt"></i> ${siteData.contact.address}</p>
                    <p><i class="fas fa-phone-alt"></i> ${siteData.contact.phone}</p>
                    <div style="margin-top:30px; opacity:0.5; font-size:11px;">Â© 2024 ${siteData.logo}. All Rights Reserved.</div>
                </div>
            `;
            
            root.innerHTML = html;
        }

        // ===========================================
        // 3. ì»¨íŠ¸ë¡¤ëŸ¬: ì—ë””í„° ë¡œì§ (Controller)
        // ===========================================
        
        // ì´ˆê¸°í™”: ë°ì´í„° ë¡œë“œ ë° ë Œë”ë§
        window.onload = function() {
            loadDataToEditor(); // ë°ì´í„° -> ì—ë””í„° ì…ë ¥ì°½
            renderWebsite();    // ë°ì´í„° -> ì›¹ì‚¬ì´íŠ¸ í™”ë©´
        };

        // ë°ì´í„° -> ì—ë””í„° ì…ë ¥ì°½ì— ì±„ì›Œë„£ê¸°
        function loadDataToEditor() {
            document.getElementById('e-logo').value = siteData.logo;
            document.getElementById('e-hero-title').value = siteData.heroTitle.replace(/<br>/g, "\n"); // <br>ì„ ì¤„ë°”ê¿ˆìœ¼ë¡œ ë³€í™˜
            document.getElementById('e-hero-sub').value = siteData.heroSub;
            document.getElementById('e-hero-img').value = siteData.heroImg;

            document.getElementById('e-prog1-name').value = siteData.programs[0].name;
            document.getElementById('e-prog1-desc').value = siteData.programs[0].desc;
            document.getElementById('e-prog1-price').value = siteData.programs[0].price;

            document.getElementById('e-prog2-name').value = siteData.programs[1].name;
            document.getElementById('e-prog2-desc').value = siteData.programs[1].desc;
            document.getElementById('e-prog2-price').value = siteData.programs[1].price;

            document.getElementById('e-address').value = siteData.contact.address;
            document.getElementById('e-phone').value = siteData.contact.phone;
        }

        // ì—ë””í„° ì…ë ¥ê°’ -> ë°ì´í„° ì €ì¥ ë° í™”ë©´ ê°±ì‹ 
        function applyChanges() {
            siteData.logo = document.getElementById('e-logo').value;
            siteData.heroTitle = document.getElementById('e-hero-title').value.replace(/\n/g, "<br>"); // ì¤„ë°”ê¿ˆì„ <br>ë¡œ ë³€í™˜
            siteData.heroSub = document.getElementById('e-hero-sub').value;
            siteData.heroImg = document.getElementById('e-hero-img').value;

            siteData.programs[0].name = document.getElementById('e-prog1-name').value;
            siteData.programs[0].desc = document.getElementById('e-prog1-desc').value;
            siteData.programs[0].price = document.getElementById('e-prog1-price').value;

            siteData.programs[1].name = document.getElementById('e-prog2-name').value;
            siteData.programs[1].desc = document.getElementById('e-prog2-desc').value;
            siteData.programs[1].price = document.getElementById('e-prog2-price').value;

            siteData.contact.address = document.getElementById('e-address').value;
            siteData.contact.phone = document.getElementById('e-phone').value;

            renderWebsite(); // í™”ë©´ ê°±ì‹ 
            showToast();     // ì €ì¥ ë©”ì‹œì§€
        }

        // ì €ì¥ ì™„ë£Œ ë©”ì‹œì§€ ì• ë‹ˆë©”ì´ì…˜
        function showToast() {
            const toast = document.getElementById('toast-msg');
            toast.classList.add('show');
            setTimeout(() => { toast.classList.remove('show'); }, 3000);
        }

        // (í”„ë¦¬ë·°ìš©) FAQ í† ê¸€ ê¸°ëŠ¥
        function toggleFaq(el) {
            el.parentElement.classList.toggle('active');
        }

    </script>
</body>
</html>
